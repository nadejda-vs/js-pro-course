{"ast":null,"code":"import { takeEvery, call, put } from 'redux-saga/effects';\nimport { ACTIONS } from '../constants';\n\nfunction* getPostsSaga() {\n  console.log('GET_POSTS_REQUEST');\n\n  try {\n    const responsePost = yield call(() => fetch('https://jsonplaceholder.typicode.com/posts'));\n    const posts = yield responsePost.json();\n    throw new Error('У кого-то руки не из того места');\n    yield put({\n      type: ACTIONS.GET_POSTS_SUCCESS,\n      posts\n    });\n    console.log({\n      posts\n    });\n  } catch (e) {\n    yield put({\n      type: 'GET_POSTS_FAILURE',\n      error: e.message\n    });\n  }\n}\n\nfunction* getInePhotoSaga(action) {\n  try {\n    const responsePost = yield call(() => fetch(`https://jsonplaceholder.typicode.com/posts/${action.id}`));\n    const post = yield responsePost.json();\n  } catch (error) {}\n}\n\nexport function* postsSaga() {\n  yield takeEvery(ACTIONS.GET_POSTS_REQUEST, getPostsSaga);\n}","map":{"version":3,"sources":["C:/Users/Dima and Nadeya/js-pro-course/lesson14/src/components/componentslesson10/redux/sagas/postsSaga.js"],"names":["takeEvery","call","put","ACTIONS","getPostsSaga","console","log","responsePost","fetch","posts","json","Error","type","GET_POSTS_SUCCESS","e","error","message","getInePhotoSaga","action","id","post","postsSaga","GET_POSTS_REQUEST"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,IAApB,EAA0BC,GAA1B,QAAqC,oBAArC;AACA,SAASC,OAAT,QAAwB,cAAxB;;AAEA,UAAUC,YAAV,GAAyB;AACxBC,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;;AACA,MAAI;AACH,UAAMC,YAAY,GAAG,MAAMN,IAAI,CAAC,MAC/BO,KAAK,CAAC,4CAAD,CADyB,CAA/B;AAGA,UAAMC,KAAK,GAAG,MAAMF,YAAY,CAACG,IAAb,EAApB;AACA,UAAM,IAAIC,KAAJ,CAAU,iCAAV,CAAN;AACA,UAAMT,GAAG,CAAC;AACTU,MAAAA,IAAI,EAAET,OAAO,CAACU,iBADL;AAETJ,MAAAA;AAFS,KAAD,CAAT;AAIAJ,IAAAA,OAAO,CAACC,GAAR,CAAY;AAAEG,MAAAA;AAAF,KAAZ;AACA,GAXD,CAWE,OAAOK,CAAP,EAAU;AACX,UAAMZ,GAAG,CAAC;AAAEU,MAAAA,IAAI,EAAE,mBAAR;AAA6BG,MAAAA,KAAK,EAAED,CAAC,CAACE;AAAtC,KAAD,CAAT;AACA;AACD;;AACD,UAAUC,eAAV,CAA0BC,MAA1B,EAAkC;AACjC,MAAI;AACH,UAAMX,YAAY,GAAG,MAAMN,IAAI,CAAC,MAC/BO,KAAK,CAAE,8CAA6CU,MAAM,CAACC,EAAG,EAAzD,CADyB,CAA/B;AAGA,UAAMC,IAAI,GAAG,MAAMb,YAAY,CAACG,IAAb,EAAnB;AACA,GALD,CAKE,OAAOK,KAAP,EAAc,CAAE;AAClB;;AACD,OAAO,UAAUM,SAAV,GAAsB;AAC5B,QAAMrB,SAAS,CAACG,OAAO,CAACmB,iBAAT,EAA4BlB,YAA5B,CAAf;AACA","sourcesContent":["import { takeEvery, call, put } from 'redux-saga/effects';\r\nimport { ACTIONS } from '../constants';\r\n\r\nfunction* getPostsSaga() {\r\n\tconsole.log('GET_POSTS_REQUEST');\r\n\ttry {\r\n\t\tconst responsePost = yield call(() =>\r\n\t\t\tfetch('https://jsonplaceholder.typicode.com/posts')\r\n\t\t);\r\n\t\tconst posts = yield responsePost.json();\r\n\t\tthrow new Error('У кого-то руки не из того места');\r\n\t\tyield put({\r\n\t\t\ttype: ACTIONS.GET_POSTS_SUCCESS,\r\n\t\t\tposts,\r\n\t\t});\r\n\t\tconsole.log({ posts });\r\n\t} catch (e) {\r\n\t\tyield put({ type: 'GET_POSTS_FAILURE', error: e.message });\r\n\t}\r\n}\r\nfunction* getInePhotoSaga(action) {\r\n\ttry {\r\n\t\tconst responsePost = yield call(() =>\r\n\t\t\tfetch(`https://jsonplaceholder.typicode.com/posts/${action.id}`)\r\n\t\t);\r\n\t\tconst post = yield responsePost.json();\r\n\t} catch (error) {}\r\n}\r\nexport function* postsSaga() {\r\n\tyield takeEvery(ACTIONS.GET_POSTS_REQUEST, getPostsSaga);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}