{"ast":null,"code":"import { takeEvery, call, put } from 'redux-saga/effects';\nimport { ACTIONS } from '../constants';\n\nfunction* getPostsSaga() {\n  console.log('GET_POSTS_REQUEST');\n\n  try {\n    const responsePost = yield call(() => fetch('https://jsonplaceholder.typicode.com/posts'));\n    const posts = yield responsePost.json(); // new Error('У кого-то руки не из того места');\n\n    yield put({\n      type: ACTIONS.GET_POSTS_SUCCESS,\n      posts\n    });\n    console.log({\n      posts\n    });\n  } catch (e) {\n    yield put({\n      type: 'GET_POSTS_FAILURE',\n      error: e.message\n    });\n  }\n}\n\nfunction* getUserSaga(action) {\n  try {\n    const responsePost = yield call(() => fetch(`https://jsonplaceholder.typicode.com/users/${id}`));\n    const user = yield responsePost.json();\n    yield put({\n      type: ACTIONS.GET_USER_SUCCESS,\n      user\n    });\n    console.log({\n      user\n    });\n  } catch (e) {}\n}\n\nexport function* postsSaga() {\n  yield takeEvery(ACTIONS.GET_POSTS_REQUEST, getPostsSaga);\n  yield takeEvery(ACTIONS.GET_USER_REQUEST, getUserSaga);\n}","map":{"version":3,"sources":["C:/Users/Dima and Nadeya/js-pro-course/lesson15/src/components/componentslesson10/redux/sagas/postsSaga.js"],"names":["takeEvery","call","put","ACTIONS","getPostsSaga","console","log","responsePost","fetch","posts","json","type","GET_POSTS_SUCCESS","e","error","message","getUserSaga","action","id","user","GET_USER_SUCCESS","postsSaga","GET_POSTS_REQUEST","GET_USER_REQUEST"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,IAApB,EAA0BC,GAA1B,QAAqC,oBAArC;AACA,SAASC,OAAT,QAAwB,cAAxB;;AAEA,UAAUC,YAAV,GAAyB;AACxBC,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;;AACA,MAAI;AACH,UAAMC,YAAY,GAAG,MAAMN,IAAI,CAAC,MAC/BO,KAAK,CAAC,4CAAD,CADyB,CAA/B;AAGA,UAAMC,KAAK,GAAG,MAAMF,YAAY,CAACG,IAAb,EAApB,CAJG,CAMH;;AAEA,UAAMR,GAAG,CAAC;AACTS,MAAAA,IAAI,EAAER,OAAO,CAACS,iBADL;AAETH,MAAAA;AAFS,KAAD,CAAT;AAIAJ,IAAAA,OAAO,CAACC,GAAR,CAAY;AAAEG,MAAAA;AAAF,KAAZ;AACA,GAbD,CAaE,OAAOI,CAAP,EAAU;AACX,UAAMX,GAAG,CAAC;AAAES,MAAAA,IAAI,EAAE,mBAAR;AAA6BG,MAAAA,KAAK,EAAED,CAAC,CAACE;AAAtC,KAAD,CAAT;AACA;AACD;;AACD,UAAUC,WAAV,CAAsBC,MAAtB,EAA8B;AAC7B,MAAI;AACH,UAAMV,YAAY,GAAG,MAAMN,IAAI,CAAC,MAC/BO,KAAK,CAAE,8CAA6CU,EAAG,EAAlD,CADyB,CAA/B;AAGA,UAAMC,IAAI,GAAG,MAAMZ,YAAY,CAACG,IAAb,EAAnB;AACA,UAAMR,GAAG,CAAC;AACTS,MAAAA,IAAI,EAAER,OAAO,CAACiB,gBADL;AAETD,MAAAA;AAFS,KAAD,CAAT;AAIAd,IAAAA,OAAO,CAACC,GAAR,CAAY;AAAEa,MAAAA;AAAF,KAAZ;AACA,GAVD,CAUE,OAAON,CAAP,EAAU,CAAE;AACd;;AACD,OAAO,UAAUQ,SAAV,GAAsB;AAC5B,QAAMrB,SAAS,CAACG,OAAO,CAACmB,iBAAT,EAA4BlB,YAA5B,CAAf;AACA,QAAMJ,SAAS,CAACG,OAAO,CAACoB,gBAAT,EAA2BP,WAA3B,CAAf;AACA","sourcesContent":["import { takeEvery, call, put } from 'redux-saga/effects';\r\nimport { ACTIONS } from '../constants';\r\n\r\nfunction* getPostsSaga() {\r\n\tconsole.log('GET_POSTS_REQUEST');\r\n\ttry {\r\n\t\tconst responsePost = yield call(() =>\r\n\t\t\tfetch('https://jsonplaceholder.typicode.com/posts')\r\n\t\t);\r\n\t\tconst posts = yield responsePost.json();\r\n\r\n\t\t// new Error('У кого-то руки не из того места');\r\n\r\n\t\tyield put({\r\n\t\t\ttype: ACTIONS.GET_POSTS_SUCCESS,\r\n\t\t\tposts,\r\n\t\t});\r\n\t\tconsole.log({ posts });\r\n\t} catch (e) {\r\n\t\tyield put({ type: 'GET_POSTS_FAILURE', error: e.message });\r\n\t}\r\n}\r\nfunction* getUserSaga(action) {\r\n\ttry {\r\n\t\tconst responsePost = yield call(() =>\r\n\t\t\tfetch(`https://jsonplaceholder.typicode.com/users/${id}`)\r\n\t\t);\r\n\t\tconst user = yield responsePost.json();\r\n\t\tyield put({\r\n\t\t\ttype: ACTIONS.GET_USER_SUCCESS,\r\n\t\t\tuser,\r\n\t\t});\r\n\t\tconsole.log({ user });\r\n\t} catch (e) {}\r\n}\r\nexport function* postsSaga() {\r\n\tyield takeEvery(ACTIONS.GET_POSTS_REQUEST, getPostsSaga);\r\n\tyield takeEvery(ACTIONS.GET_USER_REQUEST, getUserSaga);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}